{"createdAt":"2025-02-12T00:26:52.174Z","updatedAt":"2025-02-12T01:44:29.000Z","id":"zYlbA2BkReNG1rzC","name":"Advanced AI demo (AI dev #14 meetup)","active":false,"nodes":[{"parameters":{"authentication":"oAuth2","select":"channel","channelId":{"__rl":true,"mode":"list","value":"C079GL6K3U6","cachedResultName":"general"},"text":"=Data from webhook:  {{ $json.query.email }}","otherOptions":{}},"id":"8872827a-b688-4c1a-9bdc-23130c310b87","name":"Send message","type":"n8n-nodes-base.slack","position":[-940,260],"typeVersion":2.2,"webhookId":"e48c54cf-44c8-4956-a987-26ae535dcf18"},{"parameters":{"content":"![h](https://i.postimg.cc/9XLvL5dL/slide-sf-talk.png#full-width)","height":677.0358687053997,"width":1163.3132111854613,"color":7},"id":"2732965b-9aaa-4cbf-b245-c14aaab0107d","name":"Sticky Note2","type":"n8n-nodes-base.stickyNote","position":[-2900,-80],"typeVersion":1},{"parameters":{"content":"# What is n8n?\n### Low-code Automation Platform for technical teams","height":99,"width":437,"color":7},"id":"e9a16ac1-7fe5-4cf5-8c3f-5317442e9270","name":"Sticky Note","type":"n8n-nodes-base.stickyNote","position":[-1420,-80],"typeVersion":1},{"parameters":{"jsCode":"// Loop over input items and add a new field called 'myNewField' to the JSON of each one\nfor (const item of $input.all()) {\n  item.json.myNewField = 1;\n}\n\nreturn $input.all();"},"id":"964f9670-95bf-4ada-a8b6-3ff1971c39ad","name":"Execute JavaScript","type":"n8n-nodes-base.code","position":[-940,60],"typeVersion":2},{"parameters":{"content":"# Example #2\n### RAG with PDF as source","height":106,"width":318,"color":6},"id":"0bb54f5e-1b73-4d8f-b8cd-c1b42428e934","name":"Sticky Note3","type":"n8n-nodes-base.stickyNote","position":[1160,-80],"typeVersion":1},{"parameters":{"chunkSize":3000,"chunkOverlap":200,"options":{}},"id":"065bf23d-5a57-4cf2-92fc-eba7c776b690","name":"Recursive Character Text Splitter","type":"@n8n/n8n-nodes-langchain.textSplitterRecursiveCharacterTextSplitter","position":[1840,680],"typeVersion":1},{"parameters":{"options":{}},"id":"5dbdeb5a-550c-4d3e-ac4f-5c8adc2586c3","name":"Embeddings OpenAI","type":"@n8n/n8n-nodes-langchain.embeddingsOpenAi","position":[1600,500],"typeVersion":1},{"parameters":{"dataType":"binary","loader":"pdfLoader","options":{"metadata":{"metadataValues":[{"name":"document-title","value":"={{ $('PDFs to download').item.json.whitepaper_title }}"},{"name":"document-publish-year","value":"={{ $('PDFs to download').item.json.publish_year }}"},{"name":"document-author","value":"={{ $('PDFs to download').item.json.author }}"}]}}},"id":"8d74ad59-6b55-4047-b358-2f95dccc78f7","name":"Default Data Loader","type":"@n8n/n8n-nodes-langchain.documentDefaultDataLoader","position":[1820,500],"typeVersion":1},{"parameters":{"model":"gpt-4o","options":{"temperature":0.3}},"id":"bc6ce0a7-c155-4e48-bb3b-815ea868c164","name":"OpenAI Chat Model","type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","position":[2560,520],"typeVersion":1},{"parameters":{"options":{}},"id":"ab75d015-78bc-4773-86e6-d4b90e09a565","name":"Embeddings OpenAI2","type":"@n8n/n8n-nodes-langchain.embeddingsOpenAi","position":[2700,820],"typeVersion":1},{"parameters":{},"id":"3e76eb07-ef1e-439e-b67f-d5a569ff6bb7","name":"Vector Store Retriever","type":"@n8n/n8n-nodes-langchain.retrieverVectorStore","position":[2760,520],"typeVersion":1},{"parameters":{"url":"={{ $json.file_url }}","options":{}},"id":"38eb896e-00ff-4190-92a1-0822502b6a07","name":"Download PDF","type":"n8n-nodes-base.httpRequest","position":[1420,280],"typeVersion":4.2},{"parameters":{},"id":"3cd2878e-223d-4168-9fe0-f4964a2fef06","name":"PDFs to download","type":"n8n-nodes-base.noOp","position":[1160,280],"notesInFlow":true,"typeVersion":1,"notes":"BTC Whitepaper + metadata"},{"parameters":{"content":"## A. Load PDF into Pinecone\nDownload the PDF, then text embeddings into Pincecone","height":91.0723900084547,"width":414.36616595939887,"color":4},"id":"17c5a416-276c-4378-b16d-6d1fb2540445","name":"Sticky Note4","type":"n8n-nodes-base.stickyNote","position":[1160,120],"typeVersion":1},{"parameters":{"content":"## B. Chat with PDF\nUse GPT4o to chat with Pinecone index","height":86.95121951219511,"width":284.62109466374466,"color":4},"id":"1b69fc9a-8f88-4e5a-9920-523ec1144dcd","name":"Sticky Note5","type":"n8n-nodes-base.stickyNote","position":[2320,140],"typeVersion":1},{"parameters":{"pineconeIndex":{"__rl":true,"mode":"list","value":"whitepapers","cachedResultName":"whitepapers"},"options":{"pineconeNamespace":"whitepaper"}},"id":"4b6b1481-dd36-4708-8999-c447d10e388b","name":"Read Pinecone Vector Store","type":"@n8n/n8n-nodes-langchain.vectorStorePinecone","position":[2700,660],"typeVersion":1},{"parameters":{"promptType":"define","text":"={{ $json.chatInput }}. \nOnly use vector store knowledge to answer the question. Don't make anything up. If you don't know the answer, tell the user that you don't know.","options":{}},"id":"cfba7dde-c152-4927-b74b-0d7b64eb4efc","name":"Question and Answer Chain","type":"@n8n/n8n-nodes-langchain.chainRetrievalQa","position":[2560,300],"typeVersion":1.3},{"parameters":{"content":"# Example #3\n### AI Assistant that knows how to use predefined API endpoints ","height":106,"width":504.25,"color":6},"id":"5d86e1f5-6a9e-4d9a-a75a-fbbaca594566","name":"Sticky Note6","type":"n8n-nodes-base.stickyNote","position":[4100,-80],"typeVersion":1},{"parameters":{"content":"# Example #1\n### Categorize incoming emails with AI","height":111,"width":318,"color":6},"id":"29298d53-6b9f-4b51-8a5d-d7dd3e49fb19","name":"Sticky Note7","type":"n8n-nodes-base.stickyNote","position":[-260,-100],"typeVersion":1},{"parameters":{"options":{"temperature":0.4}},"id":"33148dd5-8d4a-41b4-9605-675f65599095","name":"Anthropic Chat Model","type":"@n8n/n8n-nodes-langchain.lmChatAnthropic","position":[4300,380],"typeVersion":1.2},{"parameters":{"toolDescription":"Call this tool to get the appointment availability for a particular period on the calendar. The tool may refer to availability as \"Free\" or \"Busy\". \n\nUse {timeMin} and {timeMax} to specify the window for the availability query. For example, to get availability for 25 July, 2024 the {timeMin} would be 2024-07-25T09:00:00+02:00 and {timeMax} would be 2024-07-25T17:00:00+02:00.\n\nIf the tool returns an empty response, it means that something went wrong. It does not mean that there is no availability.","method":"POST","url":"https://www.googleapis.com/calendar/v3/freeBusy","authentication":"predefinedCredentialType","nodeCredentialType":"googleCalendarOAuth2Api","sendBody":true,"specifyBody":"json","jsonBody":"={\n  \"timeMin\": \"{timeMin}\",\n  \"timeMax\": \"{timeMax}\",\n  \"timeZone\": \"Europe/Berlin\",\n  \"groupExpansionMax\": 20,\n  \"calendarExpansionMax\": 10,\n  \"items\": [\n    {\n      \"id\": \"max@n8n.io\"\n    }\n  ]\n}"},"id":"ea2bc679-4f79-4c49-8bfb-4f30dba19c07","name":"Get calendar availability","type":"@n8n/n8n-nodes-langchain.toolHttpRequest","position":[4620,380],"typeVersion":1},{"parameters":{"options":{"systemMessage":"=You are an efficient and courteous assistant tasked with scheduling appointments with Max Tkacz.\n\nWhen users mention an appointment or meeting, they are referring to a meeting with Max.\nWhen users refer to the calendar or \"your schedule,\" they are referring to Max's calendar. \n\nYou can use various tools to access and manage Max's calendar. Your primary goal is to assist users in successfully booking an appointment with Max, ensuring no scheduling conflicts. Only book an appointment if the requested time slot is available (the tool may refer to this as \"Free\")\n\nToday's date is {{ $today.format('dd LLL yyyy') }}.\nAppointments are always 30 minutes in length. \n\n\nProvide accurate information at all times. If the tools are not functioning correctly, inform the user that you are unable to assist them at the moment.\n"}},"id":"0b654123-5561-481e-aa48-4d033b1ea38a","name":"Appointment booking agent","type":"@n8n/n8n-nodes-langchain.agent","position":[4400,160],"typeVersion":1.6},{"parameters":{"content":"![h](https://i.imghippo.com/files/d9Bgv1721858679.png#full-width)\n[Open Calendar](https://calendar.google.com/calendar/u/0/r/day/2024/7/26)","height":571.8601927804875,"width":327.46658341463433,"color":7},"id":"e46feafe-e7a3-426c-a615-a144525d3a34","name":"Sticky Note1","type":"n8n-nodes-base.stickyNote","position":[5020,120],"typeVersion":1},{"parameters":{"contextWindowLength":10},"id":"2d7828da-9ce3-4f73-b7cb-52a87b241e31","name":"Window Buffer Memory","type":"@n8n/n8n-nodes-langchain.memoryBufferWindow","position":[4440,380],"typeVersion":1.2},{"parameters":{"content":"![h](https://i.postimg.cc/kXW9XrZt/Screenshot-2024-07-24-at-15-18-27.png#full-width)\nBTC Whitepaper references","height":403.1877919219511,"width":615.2162978341456,"color":7},"id":"a754cc1b-2970-4627-893b-238804d6d53d","name":"Sticky Note8","type":"n8n-nodes-base.stickyNote","position":[3100,320],"typeVersion":1},{"parameters":{"content":"### Connect with me or explore this demo ðŸ‘‡\n![QR](https://i.postimg.cc/VNkdCLQh/frame.png#full-width)","height":398.9629539487597,"width":345.33741540309194,"color":7},"id":"c9b47892-03c2-48eb-80d6-9c4405e36fb7","name":"Sticky Note9","type":"n8n-nodes-base.stickyNote","position":[6380,-80],"typeVersion":1},{"parameters":{"content":"# Thank you and happy flowgramming ðŸ¤˜\n\n### Max Tkacz | Senior Developer Advocate @ n8n","height":197.19036476628202,"width":411.2946586626259,"color":7},"id":"550b7694-a06b-4778-b260-3c2aa148a865","name":"Sticky Note10","type":"n8n-nodes-base.stickyNote","position":[5940,-80],"typeVersion":1},{"parameters":{"mode":"insert","pineconeIndex":{"__rl":true,"mode":"list","value":"whitepapers","cachedResultName":"whitepapers"},"options":{"clearNamespace":true,"pineconeNamespace":"whitepaper"}},"id":"54d8a049-c27d-450b-b9d3-96b02df0f4e7","name":"Insert into Pinecone vector store","type":"@n8n/n8n-nodes-langchain.vectorStorePinecone","position":[1640,280],"typeVersion":1},{"parameters":{"toolDescription":"Call this tool to book an appointment in the calendar. ","method":"POST","url":"https://www.googleapis.com/calendar/v3/calendars/max@n8n.io/events","authentication":"predefinedCredentialType","nodeCredentialType":"googleCalendarOAuth2Api","sendBody":true,"specifyBody":"json","jsonBody":"={\n  \"summary\": \"Appointment with {userName}\",\n  \"start\": {\n    \"dateTime\": \"{startTime}\",\n    \"timeZone\": \"Europe/Berlin\"\n  },\n  \"end\": {\n    \"dateTime\": \"{endTime}\",\n    \"timeZone\": \"Europe/Berlin\"\n  },\n  \"attendees\": [\n    {\"email\": \"max@n8n.io\"},\n    {\"email\": \"{userEmail}\"}\n  ]\n}","placeholderDefinitions":{"values":[{"name":"userName","description":"The full name of the user making the appointment. Like John Doe"},{"name":"startTime","description":"The start time of the event in Europe/Berlin timezone. For example, 2024-07-24T10:00:00+02:00"},{"name":"endTime","description":"The end time of the event in Europe/Berlin timezone. It should always be 30 minutes after the startTime. "},{"name":"userEmail","description":"The email address of the user making the appointment"}]}},"id":"5ec4b563-af04-484b-8180-6f78be1e40ea","name":"Book appointment","type":"@n8n/n8n-nodes-langchain.toolHttpRequest","position":[4780,380],"typeVersion":1},{"parameters":{"public":true,"initialMessages":"Hi there! ðŸ‘‹\nI can help you schedule an appointment with Max Tkacz. On which day would you like to meet?","options":{"title":"Book an appointment with Max"}},"id":"751fbee7-fd94-4f1f-ba56-34915cf449f4","name":"When chat message received","type":"@n8n/n8n-nodes-langchain.chatTrigger","position":[2320,300],"webhookId":"c348693e-9c43-4bf2-90a5-23786273e809","typeVersion":1.1},{"parameters":{"content":"### Explore 100+ AI Workflow templates on n8n.io\n[Open Templates Library](https://n8n.io/workflows)","height":80,"width":411.2946586626259,"color":7},"id":"561c81f4-108f-4d92-b429-1606d01acaec","name":"Sticky Note11","type":"n8n-nodes-base.stickyNote","position":[5940,140],"typeVersion":1},{"parameters":{"content":"### Ask a question in our community (13k+ members)\n[Explore n8n community](https://community.n8n.io/)","height":80,"width":411.2946586626259,"color":7},"id":"04ca66e2-8750-4e3f-a5e0-d2fcc4f74f00","name":"Sticky Note12","type":"n8n-nodes-base.stickyNote","position":[5940,240],"typeVersion":1},{"parameters":{"model":"gpt-4o","options":{"temperature":0.5}},"id":"3e421f92-8515-44ba-868b-15b152e39108","name":"OpenAI Chat Model1","type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","position":[-20,340],"typeVersion":1},{"parameters":{"operation":"addLabels","messageId":"={{ $json.id }}","labelIds":["Label_4763053241338138112"]},"id":"8f8c4119-44a2-4f2d-a847-c8b868bc3657","name":"Add automation label","type":"n8n-nodes-base.gmail","position":[480,-20],"typeVersion":2.1,"webhookId":"482dd07b-8247-4a6e-8df0-80718970510c"},{"parameters":{"pollTimes":{"item":[{"mode":"everyMinute"}]},"simple":false,"filters":{},"options":{}},"id":"01d81d52-dafd-4647-bc0f-af38736820e6","name":"On new email to nathan's inbox","type":"n8n-nodes-base.gmailTrigger","position":[-240,140],"typeVersion":1.1,"disabled":true},{"parameters":{"operation":"addLabels","messageId":"={{ $json.id }}","labelIds":["Label_6822395192337188416"]},"id":"d7785039-b5ad-4d11-a982-b5a6c5e1b555","name":"Add music label","type":"n8n-nodes-base.gmail","position":[480,180],"typeVersion":2.1,"webhookId":"f1cd8031-a95c-4640-b039-6bb03fc5155a"},{"parameters":{"inputText":"={{ $json.text }}","categories":{"categories":[{"category":"automation","description":"email on the topic of automation or workflows and automated processes, includes newsletters on this topic"},{"category":"music","description":"email on the topic of music, for example from an artist "}]},"options":{}},"id":"77b9dcb7-5d4e-4040-b337-220e80a22598","name":"Assign label with AI","type":"@n8n/n8n-nodes-langchain.textClassifier","position":[0,140],"typeVersion":1},{"parameters":{"path":"74facfd7-0f51-4605-9724-2c300594fcf9","options":{}},"id":"75a5c045-8554-419b-94bc-3c90bae1a7a7","name":"Webhook","type":"n8n-nodes-base.webhook","position":[-1420,140],"webhookId":"74facfd7-0f51-4605-9724-2c300594fcf9","typeVersion":2},{"parameters":{"conditions":{"options":{"leftValue":"","caseSensitive":true,"typeValidation":"strict"},"combinator":"and","conditions":[{"id":"a0b16c44-03ea-4e96-9671-7b168697186d","operator":{"type":"string","operation":"contains"},"leftValue":"={{ $json.query.email }}","rightValue":"@n8n"}]},"options":{}},"id":"7b4bde71-db5d-45f1-912c-8c27bcf4e8e3","name":"Whether email contains n8n","type":"n8n-nodes-base.if","position":[-1220,140],"typeVersion":2}],"connections":{"Webhook":{"main":[[{"node":"Whether email contains n8n","type":"main","index":0}]]},"Download PDF":{"main":[[{"node":"Insert into Pinecone vector store","type":"main","index":0}]]},"Book appointment":{"ai_tool":[[{"node":"Appointment booking agent","type":"ai_tool","index":0}]]},"PDFs to download":{"main":[[{"node":"Download PDF","type":"main","index":0}]]},"Embeddings OpenAI":{"ai_embedding":[[{"node":"Insert into Pinecone vector store","type":"ai_embedding","index":0}]]},"OpenAI Chat Model":{"ai_languageModel":[[{"node":"Question and Answer Chain","type":"ai_languageModel","index":0}]]},"Embeddings OpenAI2":{"ai_embedding":[[{"node":"Read Pinecone Vector Store","type":"ai_embedding","index":0}]]},"OpenAI Chat Model1":{"ai_languageModel":[[{"node":"Assign label with AI","type":"ai_languageModel","index":0}]]},"Default Data Loader":{"ai_document":[[{"node":"Insert into Pinecone vector store","type":"ai_document","index":0}]]},"Anthropic Chat Model":{"ai_languageModel":[[{"node":"Appointment booking agent","type":"ai_languageModel","index":0}]]},"Assign label with AI":{"main":[[{"node":"Add automation label","type":"main","index":0}],[{"node":"Add music label","type":"main","index":0}]]},"Window Buffer Memory":{"ai_memory":[[{"node":"Appointment booking agent","type":"ai_memory","index":0}]]},"Vector Store Retriever":{"ai_retriever":[[{"node":"Question and Answer Chain","type":"ai_retriever","index":0}]]},"Get calendar availability":{"ai_tool":[[{"node":"Appointment booking agent","type":"ai_tool","index":0}]]},"Read Pinecone Vector Store":{"ai_vectorStore":[[{"node":"Vector Store Retriever","type":"ai_vectorStore","index":0}]]},"When chat message received":{"main":[[{"node":"Question and Answer Chain","type":"main","index":0}]]},"Whether email contains n8n":{"main":[[{"node":"Execute JavaScript","type":"main","index":0},{"node":"Send message","type":"main","index":0}]]},"On new email to nathan's inbox":{"main":[[{"node":"Assign label with AI","type":"main","index":0}]]},"Recursive Character Text Splitter":{"ai_textSplitter":[[{"node":"Default Data Loader","type":"ai_textSplitter","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":null,"meta":null,"pinData":{},"versionId":"88c80d0a-b739-4908-88cf-dc8a97626353","triggerCount":0,"tags":[{"createdAt":"2025-02-12T00:06:31.183Z","updatedAt":"2025-02-16T12:09:52.918Z","id":"RAEtntqG5GvQKAMI","name":"AD USO INTERNO"},{"createdAt":"2025-02-11T23:59:41.483Z","updatedAt":"2025-02-14T16:18:26.979Z","id":"dzhL8PxGOvRSKz2J","name":"ANCORA IN TEST"},{"createdAt":"2025-02-10T13:32:48.613Z","updatedAt":"2025-02-23T19:53:15.863Z","id":"k5fZTQAhTgrJYO8g","name":"AD USO DEMO"}]}