{"createdAt":"2025-02-26T14:07:00.772Z","updatedAt":"2025-02-27T01:52:57.000Z","id":"5kkEJPklw31SbvJa","name":"N8N Corso 1","active":true,"nodes":[{"parameters":{"url":"https://internal.users.n8n.cloud/webhook/custom-erp","authentication":"genericCredentialType","genericAuthType":"httpHeaderAuth","sendHeaders":true,"headerParameters":{"parameters":[{"name":"unique_id","value":"a08caace8a1433e91caa74107eec0044"}]},"options":{}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[220,0],"id":"6d725677-fd19-4302-a468-b929eaa145e1","name":"HTTP Request","credentials":{"httpHeaderAuth":{"id":"kzeWKpxI4WtccILl","name":"Header Auth account for Firecrawl"}}},{"parameters":{"operation":"create","base":{"__rl":true,"value":"appqgBa11owGidkiF","mode":"list","cachedResultName":"Beginner course","cachedResultUrl":"https://airtable.com/appqgBa11owGidkiF"},"table":{"__rl":true,"value":"tblVdPdGsUUCFKtWo","mode":"list","cachedResultName":"processingOrders","cachedResultUrl":"https://airtable.com/appqgBa11owGidkiF/tblVdPdGsUUCFKtWo"},"columns":{"mappingMode":"autoMapInputData","value":{},"matchingColumns":[],"schema":[{"id":"orderID","displayName":"orderID","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"number","readOnly":false,"removed":false},{"id":"employeeName","displayName":"employeeName","required":false,"defaultMatch":false,"canBeUsedToMatch":true,"display":true,"type":"string","readOnly":false,"removed":false}],"attemptToConvertTypes":false,"convertFieldsToString":false},"options":{}},"type":"n8n-nodes-base.airtable","typeVersion":2.1,"position":[900,-100],"id":"93e53d0c-bd3a-4115-94c3-3da46b6884d2","name":"Airtable","credentials":{"airtableTokenApi":{"id":"NeLLu5sxFf62WIDz","name":"Airtable Personal Access Token account"}}},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict","version":2},"conditions":[{"id":"e14137ea-4c6d-4f5c-86c6-57f25180aa4f","leftValue":"={{ $json.orderStatus }}","rightValue":"processing","operator":{"type":"string","operation":"equals","name":"filter.operator.equals"}},{"id":"04aaece6-4d48-4b37-b518-ab3e31e26c0d","leftValue":"={{ $json.employeeName }}","rightValue":"Mario","operator":{"type":"string","operation":"equals","name":"filter.operator.equals"}}],"combinator":"and"},"options":{}},"type":"n8n-nodes-base.if","typeVersion":2.2,"position":[440,0],"id":"d9d47090-bc0c-4e49-8748-beaf6b6d3fa3","name":"If"},{"parameters":{"assignments":{"assignments":[{"id":"d603a262-7d08-4134-91ec-35aa05147ea1","name":"orderID","value":"={{ $json.orderID }}","type":"number"},{"id":"8f814a0e-9b55-4355-883d-78d30c75f3be","name":"employeeName","value":"={{ $json.employeeName }}","type":"string"}]},"options":{}},"type":"n8n-nodes-base.set","typeVersion":3.4,"position":[720,-160],"id":"29ae1eaa-7f1e-43aa-839d-b7114c00c321","name":"Edit Fields"},{"parameters":{"jsCode":"let items = $input.all();\nlet totalBooked = items.length;\nlet bookedSum = 0;\n\nfor(let i=0; i < items.length; i++) {\n  bookedSum = bookedSum + items[i].json.orderPrice;\n}\nreturn [{json:{totalBooked, bookedSum}}];"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[660,100],"id":"5dfa3202-0f71-4acc-9fab-ad4ed27fd31d","name":"Code"},{"parameters":{"authentication":"webhook","content":"=This week we've {{$json[\"totalBooked\"]}} booked orders with a total value of {{$json[\"bookedSum\"]}}. My Unique ID: {{ $('HTTP Request').params[\"headerParameters\"][\"parameters\"][0][\"value\"] }}","options":{}},"type":"n8n-nodes-base.discord","typeVersion":2,"position":[880,100],"id":"4852de1f-b731-4240-a2c4-6452ac02a5ec","name":"Discord","webhookId":"3f2c5c76-b660-41f4-a5a1-3379551f74fe","credentials":{"discordWebhookApi":{"id":"37eJlCyUCMVBjSpY","name":"Discord Webhook account"}}},{"parameters":{"rule":{"interval":[{"field":"weeks","triggerAtDay":[1],"triggerAtHour":9}]}},"type":"n8n-nodes-base.scheduleTrigger","typeVersion":1.2,"position":[40,0],"id":"0851f1a8-f44f-431f-b248-1ae89542562e","name":"Schedule Trigger"},{"parameters":{"jsCode":"let items = $input.all();\nlet totalBooked = items.length;\nlet bookedSum = 0;\n\nfor(let i=0; i < items.length; i++) {\n  bookedSum = bookedSum + items[i].json.orderPrice;\n}\nreturn [{json:{totalBooked, bookedSum}}];"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[580,-160],"id":"cae4313d-b4a4-4af6-ab2e-7fdf55b039e2","name":"Code1"}],"connections":{"HTTP Request":{"main":[[{"node":"If","type":"main","index":0}]]},"If":{"main":[[{"node":"Code1","type":"main","index":0}],[{"node":"Code","type":"main","index":0}]]},"Edit Fields":{"main":[[{"node":"Airtable","type":"main","index":0}]]},"Code":{"main":[[{"node":"Discord","type":"main","index":0}]]},"Schedule Trigger":{"main":[[{"node":"HTTP Request","type":"main","index":0}]]},"Code1":{"main":[[{"node":"Edit Fields","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":{"node:Schedule Trigger":{"recurrenceRules":[]}},"meta":{"templateCredsSetupCompleted":true},"pinData":{},"versionId":"5165e61c-5c23-4705-b803-ef43413db7ef","triggerCount":1,"tags":[]}