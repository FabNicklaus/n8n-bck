{"createdAt":"2025-02-14T16:18:07.308Z","updatedAt":"2025-02-14T16:18:33.000Z","id":"42VlOU3lwkUQTCOA","name":"Content generation x WP using DeepSeek","active":false,"nodes":[{"parameters":{},"id":"9cf59909-36d0-4128-a526-771a03eded3d","name":"When clicking ‘Test workflow’","type":"n8n-nodes-base.manualTrigger","position":[-240,520],"typeVersion":1},{"parameters":{"documentId":{"__rl":true,"mode":"id","value":"YOURDOCUMENT"},"sheetName":{"__rl":true,"mode":"id","value":"=Sheet1"},"options":{}},"id":"2e18c5a7-e600-47bd-b6b5-d52bf28b6e65","name":"Get Ideas","type":"n8n-nodes-base.googleSheets","position":[-20,520],"typeVersion":4.5},{"parameters":{"assignments":{"assignments":[{"id":"3e8d2523-66aa-46fe-adcc-39dc78b9161e","name":"prompt","type":"string","value":"={{ $json.PROMPT }}"}]},"options":{}},"id":"af0d4f4d-3337-40a1-a61a-c473a5ef12a1","name":"Set your prompt","type":"n8n-nodes-base.set","position":[200,520],"typeVersion":3.4},{"parameters":{"title":"={{ $json.message.content }}","additionalFields":{"content":"={{ $('Generate article with DeepSeek').item.json.message.content }}","status":"draft"}},"id":"115a4f29-feed-45dc-8eaa-b18e825d0c7a","name":"Create post on Wordpress","type":"n8n-nodes-base.wordpress","position":[-220,820],"typeVersion":1},{"parameters":{"method":"POST","url":"https://YOURSITE.com/wp-json/wp/v2/media","authentication":"predefinedCredentialType","nodeCredentialType":"wordpressApi","sendHeaders":true,"headerParameters":{"parameters":[{"name":"Content-Disposition","value":"=attachment; filename=\"copertina-{{ $('Create post on Wordpress').item.json.id }}.jpg\""}]},"sendBody":true,"contentType":"binaryData","inputDataFieldName":"data","options":{}},"id":"fb993fe1-cff1-41bd-8ba1-6e8a7e593ec7","name":"Upload image","type":"n8n-nodes-base.httpRequest","position":[200,820],"typeVersion":4.2},{"parameters":{"method":"POST","url":"=https://wp.test.7hype.com/wp-json/wp/v2/posts/{{ $('Create post on Wordpress').item.json.id }}","authentication":"predefinedCredentialType","nodeCredentialType":"wordpressApi","sendQuery":true,"queryParameters":{"parameters":[{"name":"featured_media","value":"={{ $json.id }}"}]},"options":{}},"id":"549e0714-db1f-4e87-ae9f-6e2c2ea462a4","name":"Set Image","type":"n8n-nodes-base.httpRequest","position":[420,820],"typeVersion":4.2},{"parameters":{"operation":"update","documentId":{"__rl":true,"mode":"list","value":"16VFeCrE5BkMBoA_S5HD-9v7C0sxcXAUiDbq5JvkDqnI","cachedResultUrl":"https://docs.google.com/spreadsheets/d/16VFeCrE5BkMBoA_S5HD-9v7C0sxcXAUiDbq5JvkDqnI/edit?usp=drivesdk","cachedResultName":"Plan Blog wp.test.7hype.com"},"sheetName":{"__rl":true,"mode":"list","value":"gid=0","cachedResultUrl":"https://docs.google.com/spreadsheets/d/16VFeCrE5BkMBoA_S5HD-9v7C0sxcXAUiDbq5JvkDqnI/edit#gid=0","cachedResultName":"Foglio1"},"columns":{"value":{"DATA":"={{ $now.format('dd/LL/yyyy') }}","TITOLO":"={{ $('Generate title with DeepSeek').item.json.message.content }}","ID POST":"={{ $('Create post on Wordpress').item.json.id }}","row_number":"={{ $('Get Ideas').item.json.row_number }}"},"schema":[{"id":"DATA","type":"string","display":true,"required":false,"displayName":"DATA","defaultMatch":false,"canBeUsedToMatch":true},{"id":"PROMPT","type":"string","display":true,"required":false,"displayName":"PROMPT","defaultMatch":false,"canBeUsedToMatch":true},{"id":"TITOLO","type":"string","display":true,"required":false,"displayName":"TITOLO","defaultMatch":false,"canBeUsedToMatch":true},{"id":"ID POST","type":"string","display":true,"required":false,"displayName":"ID POST","defaultMatch":false,"canBeUsedToMatch":true},{"id":"row_number","type":"string","display":true,"removed":false,"readOnly":true,"required":false,"displayName":"row_number","defaultMatch":false,"canBeUsedToMatch":true}],"mappingMode":"defineBelow","matchingColumns":["row_number"],"attemptToConvertTypes":false,"convertFieldsToString":false},"options":{}},"id":"ad79847f-0c42-495c-a818-635e6c0f9a72","name":"Update Sheet","type":"n8n-nodes-base.googleSheets","position":[660,820],"typeVersion":4.5},{"parameters":{"content":"## Target\nThis workflow is designed to automatically generate seo-friendly content for wordpress through DeepSeek R1 by giving input ideas on how to structure the article. A cover image is also generated and uploaded with OpenAI DALL-E 3. This flow is designed to be executed automatically (ad \"On a schedule\" node) and thus have a complete editorial plan.\n\nThis process is useful for blog managers who want to automate content creation and publishing.\n\n## Preliminary step\nCreate a google sheet with the following columns:\n- Date\n- Prompt\n- Title\n- Post ID\n\nFill in only the \"Prompt\" column with basic ideas that DeepSeek will work on to generate the content.","height":380,"width":800,"color":3},"id":"7d636d8d-c4ba-41f0-a285-879e82369755","name":"Sticky Note","type":"n8n-nodes-base.stickyNote","position":[-280,-40],"typeVersion":1},{"parameters":{"content":"Connect with your Google Sheet. This node select only rows for which no content has been generated yet in WordPress","height":260},"id":"32c928d1-0aaf-491e-8db2-10a225cad6fa","name":"Sticky Note1","type":"n8n-nodes-base.stickyNote","position":[-80,420],"typeVersion":1},{"parameters":{"modelId":{"__rl":true,"mode":"id","value":"=deepseek-reasoner"},"messages":{"values":[{"content":"=You are an SEO expert, write an article based on this topic:\n{{ $json.prompt }}\n\nInstructions:\n- In the introduction, introduce the topic that will be explored in the rest of the text\n- The introduction should be about 120 words\n- The conclusions should be about 120 words\n- Use the conclusions to summarize everything said in the article and offer a conclusion to the reader\n- Write a maximum of 4-5 chapters and argue them.\n- The chapters should follow a logical flow and not repeat the same concepts.\n- The chapters should be related to each other and not isolated blocks of text. The text should flow and follow a linear logic.\n- Do not start chapters with \"Chapter 1\", \"Chapter 2\", \"Chapter 3\" ... write only the chapter title\n- For the text, use HTML for formatting, but limit yourself to bold, italics, paragraphs and lists.\n- Don't put the output in ```html but only text\n- Don't use markdown for formatting.\n- Go deeper into the topic you're talking about, don't just throw superficial information there\n- In output I want only the HTML format"}]},"options":{"maxTokens":2048}},"id":"f7f746e5-3721-4a42-b82a-60e673a83110","name":"Generate article with DeepSeek","type":"@n8n/n8n-nodes-langchain.openAi","position":[420,520],"typeVersion":1.8},{"parameters":{"modelId":{"__rl":true,"mode":"id","value":"=deepseek-reasoner"},"messages":{"values":[{"content":"=You are an SEO Copywriter and you need to think of a title of maximum 60 characters for the following article:\n{{ $json.message.content }}\n\nInstructions:\n- Use keywords contained in the article\n- Do not use any HTML characters\n- Output only the string containing the title.\n- Do not use quotation marks. The only special characters allowed are \":\" and \",\""}]},"options":{"maxTokens":2048}},"id":"ca8099a4-8573-4706-ac2b-d9f0b01ed07b","name":"Generate title with DeepSeek","type":"@n8n/n8n-nodes-langchain.openAi","position":[660,520],"typeVersion":1.8},{"parameters":{"content":"Add your DeepSeek API credential. If you want you can change the model with \"deepseek-chat\"","height":260,"width":420},"id":"b43f7bdc-df3a-4398-acf5-920c2ff3b773","name":"Sticky Note2","type":"n8n-nodes-base.stickyNote","position":[360,420],"typeVersion":1},{"parameters":{"content":"Add your WordPress API credential\n","height":260,"width":160},"id":"018a7732-77fe-4215-b0c5-2782303b98cc","name":"Sticky Note3","type":"n8n-nodes-base.stickyNote","position":[-240,740],"typeVersion":1},{"parameters":{"resource":"image","prompt":"=Generate a real photographic image used as a cover for a blog post:\n\nImage prompt:\n{{ $('Generate title with DeepSeek').item.json.message.content }}, photography, realistic, sigma 85mm f/1.4","options":{"quality":"hd","size":"1792x1024","style":"natural"}},"id":"2e0955d2-1a3d-407b-811f-3f43fd45b469","name":"Generate Image with DALL-E","type":"@n8n/n8n-nodes-langchain.openAi","position":[-20,820],"typeVersion":1.8},{"parameters":{"content":"Add your OpenAI API credential\n","height":260,"width":160},"id":"20e3f091-66bb-459c-b090-74206a820e7a","name":"Sticky Note4","type":"n8n-nodes-base.stickyNote","position":[-40,740],"typeVersion":1},{"parameters":{"content":"Upload the image on your WordPress via APIs\n","height":260,"width":180},"id":"7e67d73e-6bcc-4ccd-a5e2-9cd210ab9c2a","name":"Sticky Note5","type":"n8n-nodes-base.stickyNote","position":[160,740],"typeVersion":1},{"parameters":{"content":"Set the uploaded image with the newly created article\n","height":260,"width":180},"id":"264bb4ba-b6ec-4396-a6cb-0c14881ce3d3","name":"Sticky Note6","type":"n8n-nodes-base.stickyNote","position":[380,740],"typeVersion":1}],"connections":{"Get Ideas":{"main":[[{"node":"Set your prompt","type":"main","index":0}]]},"Set Image":{"main":[[{"node":"Update Sheet","type":"main","index":0}]]},"Upload image":{"main":[[{"node":"Set Image","type":"main","index":0}]]},"Set your prompt":{"main":[[{"node":"Generate article with DeepSeek","type":"main","index":0}]]},"Create post on Wordpress":{"main":[[{"node":"Generate Image with DALL-E","type":"main","index":0}]]},"Generate Image with DALL-E":{"main":[[{"node":"Upload image","type":"main","index":0}]]},"Generate title with DeepSeek":{"main":[[{"node":"Create post on Wordpress","type":"main","index":0}]]},"Generate article with DeepSeek":{"main":[[{"node":"Generate title with DeepSeek","type":"main","index":0}]]},"When clicking ‘Test workflow’":{"main":[[{"node":"Get Ideas","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":null,"meta":null,"pinData":{},"versionId":"ee0d53ca-44bb-4d1a-ae4e-d6e7a8a668bc","triggerCount":0,"tags":[{"createdAt":"2025-02-11T23:59:41.483Z","updatedAt":"2025-02-14T16:18:26.979Z","id":"dzhL8PxGOvRSKz2J","name":"ANCORA IN TEST"}]}