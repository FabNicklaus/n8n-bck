{"createdAt":"2025-02-19T00:28:39.493Z","updatedAt":"2025-02-19T00:28:47.000Z","id":"YzF74Q8bSF2CqmfL","name":"Automated HR Workflow for CV Analysis and Candidate Evaluation","active":false,"nodes":[{"parameters":{"formTitle":"Send CV","formFields":{"values":[{"fieldLabel":"Name","placeholder":"Name","requiredField":true},{"fieldLabel":"Email","fieldType":"email","placeholder":"Email","requiredField":true},{"fieldLabel":"CV","fieldType":"file","acceptFileTypes":".pdf","requiredField":true}]},"options":{}},"id":"a1ea34cd-0ab0-4a06-9edf-3d39a2b55172","name":"On form submission","type":"n8n-nodes-base.formTrigger","position":[-100,500],"webhookId":"2a87705d-8ba1-41f1-80ef-85f364ce253e","typeVersion":2.2},{"parameters":{"operation":"pdf","binaryPropertyName":"CV","options":{}},"id":"f7b7c7ab-3703-476e-9d9c-066b455fc965","name":"Extract from File","type":"n8n-nodes-base.extractFromFile","position":[260,500],"typeVersion":1},{"parameters":{"text":"={{ $json.text }}","attributes":{"attributes":[{"name":"Educational qualification","description":"Summary of your academic career. Focus on your high school and university studies. Summarize in 100 words maximum and also include your grade if applicable.","required":true},{"name":"Job History","description":"Work history summary. Focus on your most recent work experiences. Summarize in 100 words maximum","required":true},{"name":"Skills","description":"Extract the candidate’s technical skills. What software and frameworks they are proficient in. Make a bulleted list.","required":true}]},"options":{"systemPromptTemplate":"You are an expert extraction algorithm.\nOnly extract relevant information from the text.\nIf you do not know the value of an attribute asked to extract, you may omit the attribute's value."}},"id":"b791f33a-aa4f-4b11-b48e-67c09431da38","name":"Qualifications","type":"@n8n/n8n-nodes-langchain.informationExtractor","position":[580,600],"typeVersion":1},{"parameters":{"options":{"summarizationMethodAndPrompts":{"values":{"combineMapPrompt":"=Write a concise summary of the following:\n\nCity: {{ $json.output.city }}\nBirthdate: {{ $json.output.birthdate }}\nEducational qualification: {{ $json.output[\"Educational qualification\"] }}\nJob History: {{ $json.output[\"Job History\"] }}\nSkills: {{ $json.output.Skills }}\n\nUse 100 words or less. Be concise and conversational.","prompt":"=Write a concise summary of the following:\n\nCity: {{ $json.output.city }}\nBirthdate: {{ $json.output.birthdate }}\nEducational qualification: {{ $json.output[\"Educational qualification\"] }}\nJob History: {{ $json.output[\"Job History\"] }}\nSkills: {{ $json.output.Skills }}\n\nUse 100 words or less. Be concise and conversational."}}}},"id":"065be7e8-2bf2-4780-8642-dd8bce341a55","name":"Summarization Chain","type":"@n8n/n8n-nodes-langchain.chainSummarization","position":[1320,480],"typeVersion":2},{"parameters":{"mode":"combine","combineBy":"combineAll","options":{}},"id":"8b0a7e2d-2758-459b-ac87-618ca6e167a6","name":"Merge","type":"n8n-nodes-base.merge","position":[1080,480],"typeVersion":3},{"parameters":{"assignments":{"assignments":[{"id":"a3d049b0-5a70-4e7b-a6f2-81447da5282a","name":"profile_wanted","type":"string","value":"We are a web agency and we are looking for a full-stack web developer who knows how to use PHP, Python and Javascript. He has experience in the sector and lives in Northern Italy."}]},"options":{}},"id":"034af5a2-7482-4373-a55f-e85aaa5b8e70","name":"Profile Wanted","type":"n8n-nodes-base.set","position":[1720,480],"typeVersion":3.4},{"parameters":{"operation":"append","documentId":{"__rl":true,"mode":"list","value":"1ssz5RvN1Hr20Q31pnYnbjCLu1MGBvoLttBAjXunMRQE","cachedResultUrl":"https://docs.google.com/spreadsheets/d/1ssz5RvN1Hr20Q31pnYnbjCLu1MGBvoLttBAjXunMRQE/edit?usp=drivesdk","cachedResultName":"Ricerca WebDev"},"sheetName":{"__rl":true,"mode":"list","value":"gid=0","cachedResultUrl":"https://docs.google.com/spreadsheets/d/1ssz5RvN1Hr20Q31pnYnbjCLu1MGBvoLttBAjXunMRQE/edit#gid=0","cachedResultName":"Foglio1"},"columns":{"value":{"CITY":"={{ $('Merge').item.json.output.city }}","DATA":"={{ $now.format('dd/LL/yyyy') }}","NAME":"={{ $('On form submission').item.json.Nome }}","VOTE":"={{ $json.output.vote }}","EMAIL":"={{ $('On form submission').item.json.Email }}","SKILLS":"={{ $('Merge').item.json.output.Skills }}","TELEFONO":"={{ $('Merge').item.json.output.telephone }}","SUMMARIZE":"={{ $('Summarization Chain').item.json.response.text }}","EDUCATIONAL":"={{ $('Merge').item.json.output[\"Educational qualification\"] }}","JOB HISTORY":"={{ $('Merge').item.json.output[\"Job History\"] }}","DATA NASCITA":"={{ $('Merge').item.json.output.birthdate }}","CONSIDERATION":"={{ $json.output.consideration }}"},"schema":[{"id":"DATA","type":"string","display":true,"required":false,"displayName":"DATA","defaultMatch":false,"canBeUsedToMatch":true},{"id":"NAME","type":"string","display":true,"required":false,"displayName":"NAME","defaultMatch":false,"canBeUsedToMatch":true},{"id":"PHONE","type":"string","display":true,"removed":false,"required":false,"displayName":"PHONE","defaultMatch":false,"canBeUsedToMatch":true},{"id":"CITY","type":"string","display":true,"required":false,"displayName":"CITY","defaultMatch":false,"canBeUsedToMatch":true},{"id":"EMAIL","type":"string","display":true,"required":false,"displayName":"EMAIL","defaultMatch":false,"canBeUsedToMatch":true},{"id":"DATA NASCITA","type":"string","display":true,"required":false,"displayName":"DATA NASCITA","defaultMatch":false,"canBeUsedToMatch":true},{"id":"EDUCATIONAL","type":"string","display":true,"required":false,"displayName":"EDUCATIONAL","defaultMatch":false,"canBeUsedToMatch":true},{"id":"JOB HISTORY","type":"string","display":true,"required":false,"displayName":"JOB HISTORY","defaultMatch":false,"canBeUsedToMatch":true},{"id":"SKILLS","type":"string","display":true,"required":false,"displayName":"SKILLS","defaultMatch":false,"canBeUsedToMatch":true},{"id":"SUMMARIZE","type":"string","display":true,"required":false,"displayName":"SUMMARIZE","defaultMatch":false,"canBeUsedToMatch":true},{"id":"VOTE","type":"string","display":true,"removed":false,"required":false,"displayName":"VOTE","defaultMatch":false,"canBeUsedToMatch":true},{"id":"CONSIDERATION","type":"string","display":true,"required":false,"displayName":"CONSIDERATION","defaultMatch":false,"canBeUsedToMatch":true}],"mappingMode":"defineBelow","matchingColumns":[],"attemptToConvertTypes":false,"convertFieldsToString":false},"options":{}},"id":"4641fc4b-53a2-42d0-8de8-8ef1eea13cd9","name":"Google Sheets","type":"n8n-nodes-base.googleSheets","position":[2380,480],"typeVersion":4.5},{"parameters":{"schemaType":"manual","inputSchema":"{\n\t\"type\": \"object\",\n\t\"properties\": {\n\t\t\"vote\": {\n\t\t\t\"type\": \"string\"\n\t\t},\n\t\t\"consideration\": {\n\t\t\t\"type\": \"string\"\n\t\t}\n\t}\n}"},"id":"0e907391-4f31-4326-bdf3-32326d4cb470","name":"Structured Output Parser","type":"@n8n/n8n-nodes-langchain.outputParserStructured","position":[2140,680],"typeVersion":1.2},{"parameters":{"promptType":"define","text":"=Profilo ricercato:\n{{ $json.profile_wanted }}\n\nCandidato:\n{{ $('Summarization Chain').item.json.response.text }}","hasOutputParser":true,"messages":{"messageValues":[{"message":"Sei un esperto HR e devi capire se il candidato è in linea con il profilo ricercato dall'azienda.\n\nDevi dare un voto da 1 a 10 dove 1 significa che il candidato non è in linea con quanto richiesto mentre 10 significa che è il candidato ideale perchè rispecchia in toto il profilo cercato.\n\nInoltre nel campo \"consideration\" motiva il perchè hai dato quel voto. "}]}},"id":"bd5f75be-6e82-4843-90b9-fbd9c0b6a2c3","name":"HR Expert","type":"@n8n/n8n-nodes-langchain.chainLlm","position":[1980,480],"typeVersion":1.5},{"parameters":{"text":"={{ $json.text }}","schemaType":"manual","inputSchema":"{\n\t\"type\": \"object\",\n\t\"properties\": {\n\t\t\"telephone\": {\n\t\t\t\"type\": \"string\"\n\t\t},\n      \"city\": {\n\t\t\t\"type\": \"string\"\n\t\t},\n      \"birthdate\": {\n\t\t\t\"type\": \"string\"\n\t\t}\n\t}\n}","options":{"systemPromptTemplate":"You are an expert extraction algorithm.\nOnly extract relevant information from the text.\nIf you do not know the value of an attribute asked to extract, you may omit the attribute's value."}},"id":"5e0a8038-8c7b-404a-a297-7953fdf9771d","name":"Personal Data","type":"@n8n/n8n-nodes-langchain.informationExtractor","position":[580,420],"typeVersion":1},{"parameters":{"inputDataFieldName":"CV","name":"=CV-{{ $now.format('yyyyLLdd') }}-{{ $json.CV[0].filename }}","driveId":{"__rl":true,"mode":"list","value":"My Drive"},"folderId":{"__rl":true,"mode":"list","value":"1tzeSpx4D3EAGXa3Wg-gqGbdaUk6LIZTV","cachedResultUrl":"https://drive.google.com/drive/folders/1tzeSpx4D3EAGXa3Wg-gqGbdaUk6LIZTV","cachedResultName":"CV"},"options":{}},"id":"8f7188c4-3af2-4b40-b295-be8103d52d16","name":"Upload CV","type":"n8n-nodes-base.googleDrive","position":[260,320],"typeVersion":3},{"parameters":{"model":{"__rl":true,"mode":"list","value":"gpt-4o-mini"},"options":{}},"id":"108e6343-60e7-4846-a926-4d414325070c","name":"OpenAI","type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","position":[1340,940],"typeVersion":1.2},{"parameters":{"content":"## HR Expert \nThis workflow automates the process of handling job applications by extracting relevant information from submitted CVs, analyzing the candidate's qualifications against a predefined profile, and storing the results in a Google Sheet","width":540,"color":3},"id":"67d5d4b5-9e16-46ef-8e69-d8485efeb8a9","name":"Sticky Note","type":"n8n-nodes-base.stickyNote","position":[-140,20],"typeVersion":1},{"parameters":{"content":"The CV is uploaded to Google Drive and converted so that it can be processed\n","height":420,"width":300},"id":"ad33ced2-c3dc-4a1f-9d25-18ffa2a72bac","name":"Sticky Note1","type":"n8n-nodes-base.stickyNote","position":[180,240],"typeVersion":1},{"parameters":{"content":"The essential information for evaluating the candidate is collected in two different chains","height":440,"width":360},"id":"94779183-a90c-4b17-a6e3-2ddca05def23","name":"Sticky Note2","type":"n8n-nodes-base.stickyNote","position":[540,320],"typeVersion":1},{"parameters":{"content":"Summary of relevant information useful for classifying the candidate","height":240,"width":320},"id":"2e3cb240-2a41-4f42-a531-0a3073b65626","name":"Sticky Note3","type":"n8n-nodes-base.stickyNote","position":[1280,400],"typeVersion":1},{"parameters":{"content":"Characteristics of the profile sought by the company that intends to hire the candidate","height":240,"width":220},"id":"869a4cae-f687-4b89-b8c7-713efea32910","name":"Sticky Note4","type":"n8n-nodes-base.stickyNote","position":[1660,400],"typeVersion":1},{"parameters":{"content":"Candidate evaluation with vote and considerations of the HR agent relating the profile sought with the candidate's skills","height":240,"width":360},"id":"0928f96c-3832-458e-aa84-8bf5b774e7d5","name":"Sticky Note5","type":"n8n-nodes-base.stickyNote","position":[1920,400],"typeVersion":1}],"connections":{"Merge":{"main":[[{"node":"Summarization Chain","type":"main","index":0}]]},"OpenAI":{"ai_languageModel":[[{"node":"Qualifications","type":"ai_languageModel","index":0},{"node":"Summarization Chain","type":"ai_languageModel","index":0},{"node":"HR Expert","type":"ai_languageModel","index":0},{"node":"Personal Data","type":"ai_languageModel","index":0}]]},"HR Expert":{"main":[[{"node":"Google Sheets","type":"main","index":0}]]},"Personal Data":{"main":[[{"node":"Merge","type":"main","index":0}]]},"Profile Wanted":{"main":[[{"node":"HR Expert","type":"main","index":0}]]},"Qualifications":{"main":[[{"node":"Merge","type":"main","index":1}]]},"Extract from File":{"main":[[{"node":"Qualifications","type":"main","index":0},{"node":"Personal Data","type":"main","index":0}]]},"On form submission":{"main":[[{"node":"Extract from File","type":"main","index":0},{"node":"Upload CV","type":"main","index":0}]]},"Summarization Chain":{"main":[[{"node":"Profile Wanted","type":"main","index":0}]]},"Structured Output Parser":{"ai_outputParser":[[{"node":"HR Expert","type":"ai_outputParser","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":null,"meta":null,"pinData":{},"versionId":"ab1ad645-7a38-44fb-a979-2c341d49d7de","triggerCount":0,"tags":[{"createdAt":"2025-02-11T23:59:41.483Z","updatedAt":"2025-02-14T16:18:26.979Z","id":"dzhL8PxGOvRSKz2J","name":"ANCORA IN TEST"},{"createdAt":"2025-02-10T13:32:48.613Z","updatedAt":"2025-02-23T19:53:15.863Z","id":"k5fZTQAhTgrJYO8g","name":"AD USO DEMO"}]}