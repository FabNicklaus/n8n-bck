{"createdAt":"2025-02-19T00:49:43.128Z","updatedAt":"2025-02-20T12:17:16.000Z","id":"W0cvFwtIY8zwhy8W","name":"JARVIS","active":false,"nodes":[{"parameters":{"updates":["message","channel_post"],"additionalFields":{}},"id":"33c92108-9321-4976-9835-c91cb7f9ff81","name":"Telegram Trigger","type":"n8n-nodes-base.telegramTrigger","typeVersion":1,"position":[-400,100],"webhookId":"3ef9da62-7e93-40a1-8b09-07bccd354dbb","credentials":{"telegramApi":{"id":"c9eLhTj5KHfRBavw","name":"Telegram account"}}},{"parameters":{"mode":"expression"},"id":"85627ea6-bfa7-43a2-aa51-04edd4b48b1f","name":"Message Type Switch","type":"n8n-nodes-base.switch","typeVersion":2,"position":[-200,100]},{"parameters":{"resource":"file","fileId":"={{ $json.message.voice.file_id }}"},"id":"25ae4c10-9faf-492e-a322-75545d4d8d49","name":"Get Voice File","type":"n8n-nodes-base.telegram","typeVersion":1,"position":[0,0],"webhookId":"969375b7-be38-4100-b838-e9b8173629ca","credentials":{"telegramApi":{"id":"c9eLhTj5KHfRBavw","name":"Telegram account"}}},{"parameters":{},"id":"62e125cb-da0d-49d9-8440-95f7fa7378bb","name":"Transcribe Audio","type":"n8n-nodes-base.openai","typeVersion":1,"position":[200,0],"credentials":{}},{"parameters":{"keepOnlySet":true,"values":{"string":[{"name":"inputText","value":"={{ $json.message.text }}"},{"name":"inputType","value":"text"}]},"options":{}},"id":"ffb6f6ae-0708-409f-ac66-aad43b6501c4","name":"Prepare Text Input","type":"n8n-nodes-base.set","typeVersion":2,"position":[60,280]},{"parameters":{"keepOnlySet":true,"values":{"string":[{"name":"inputText","value":"={{ $json.text }}"},{"name":"inputType","value":"audio"}]},"options":{}},"id":"293227f1-d7fa-450f-88c0-23eda7e26e0e","name":"Prepare Audio Input","type":"n8n-nodes-base.set","typeVersion":2,"position":[400,0]},{"parameters":{"model":"gpt-4","options":{}},"id":"6c46bca5-5784-4175-8f02-780a53543785","name":"OpenAI Chat Model","type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1,"position":[620,940],"credentials":{"openAiApi":{"id":"KGWrubCDJoZ8doQM","name":"OpenAi account"}}},{"parameters":{},"id":"912347bb-d443-4ff3-a8fe-4f98e4237e29","name":"Chat History Memory","type":"@n8n/n8n-nodes-langchain.memoryBufferWindow","typeVersion":1,"position":[680,700]},{"parameters":{"resource":"message","operation":"getAll","returnAll":true,"additionalFields":{}},"id":"ebc4555d-3084-4e6c-8ecd-aad7f715e8e3","name":"Gmail (Get Emails)","type":"n8n-nodes-base.gmail","typeVersion":1,"position":[400,500],"credentials":{"gmailOAuth2":{"id":"7nhdP6Vd3Y2nmNLl","name":"Gmail account"}}},{"parameters":{"operation":"getAll","calendar":"primary","returnAll":true,"options":{}},"id":"bc6b1c78-d8fd-4def-ba78-0dbd70511ffc","name":"Google Calendar (Get Events)","type":"n8n-nodes-base.googleCalendar","typeVersion":1,"position":[400,600],"credentials":{"googleCalendarOAuth2Api":{"id":"KwP0pAjBjQoQtGWL","name":"Google Calendar account"}}},{"parameters":{"operation":"getAll","returnAll":true,"options":{}},"id":"b0b0a22e-e3fa-4820-afea-235fe14ee595","name":"Google Contacts (Search)","type":"n8n-nodes-base.googleContacts","typeVersion":1,"position":[400,700],"credentials":{"googleContactsOAuth2Api":{"id":"PWdU92yDtbhnzoJj","name":"Google Contacts account"}}},{"parameters":{"operation":"getAll","returnAll":true,"additionalFields":{}},"id":"5a88b529-62fa-490c-b18d-bc2b75b5187c","name":"Google Tasks (Get Tasks)","type":"n8n-nodes-base.googleTasks","typeVersion":1,"position":[400,800],"credentials":{"googleTasksOAuth2Api":{"id":"3aX6VMyvNIWKsPlq","name":"Google Tasks account"}},"disabled":true},{"parameters":{"additionalFields":{}},"id":"f24b47cd-44db-4b9e-ba12-d8d4f6e4b5e7","name":"Google Contacts (Create Contact)","type":"n8n-nodes-base.googleContacts","typeVersion":1,"position":[400,900],"credentials":{"googleContactsOAuth2Api":{"id":"PWdU92yDtbhnzoJj","name":"Google Contacts account"}}},{"parameters":{},"id":"e9772718-f53f-4903-b47b-88104c93c015","name":"SerpAPI (Google Search)","type":"n8n-nodes-base.serpApi","typeVersion":1,"position":[400,1000],"credentials":{}},{"parameters":{"operation":"getAll"},"id":"74632546-5d2e-40f4-b0bc-7136c489d79f","name":"Hacker News (Get Stories)","type":"n8n-nodes-base.hackerNews","typeVersion":1,"position":[400,1100],"disabled":true},{"parameters":{"functionCode":"const expr = $json.expression || $json.math || $json.calculation || \"\";\nlet result;\ntry {\n  result = eval(expr);\n} catch (error) {\n  result = error.message;\n}\nreturn { result };"},"id":"573f0040-0094-4213-8c53-1130dff04c02","name":"Calculator","type":"n8n-nodes-base.function","typeVersion":1,"position":[-160,940],"disabled":true},{"parameters":{"text":"={{ $json.inputText }}","options":{}},"id":"44533532-bc88-44a6-9a3c-9e84877048dc","name":"AI Agent (JARVIS)","type":"@n8n/n8n-nodes-langchain.agent","typeVersion":1,"position":[580,400]},{"parameters":{"text":"={{ $json.inputText }}","options":{}},"id":"ab9c191a-e5a7-4127-84c4-44ff7e62f3e6","name":"AI Agent (Anthropic)","type":"@n8n/n8n-nodes-langchain.agent","typeVersion":1,"position":[-180,700],"disabled":true},{"parameters":{"conditions":{"string":[{"value1":"={{ $json[\"inputType\"] }}","value2":"audio"}]}},"id":"70b0cb90-99c6-422c-914b-66139dc6d717","name":"If Audio Output","type":"n8n-nodes-base.if","typeVersion":1,"position":[920,400]},{"parameters":{"authentication":"headerAuth","url":"https://api.elevenlabs.io/v1/text-to-speech/YOUR_VOICE_ID","responseFormat":"file","jsonParameters":true,"options":{}},"id":"a4af082e-ea5a-4df9-88aa-60cd49049542","name":"Generate Speech (ElevenLabs)","type":"n8n-nodes-base.httpRequest","typeVersion":1,"position":[1160,400],"credentials":{"httpHeaderAuth":{"id":"kzeWKpxI4WtccILl","name":"Header Auth account for Firecrawl"}}},{"parameters":{"chatId":"={{ $node[\"Telegram Trigger\"].json[\"message\"][\"chat\"][\"id\"] }}","text":"={{ $json[\"output\"] }}","additionalFields":{}},"id":"0f8166d5-3c5f-463d-b23d-b6e7cd56ffc3","name":"Send Telegram Message (Text)","type":"n8n-nodes-base.telegram","typeVersion":1,"position":[1160,580],"webhookId":"acecc717-28bb-49ad-9c1c-aa57d667195f","credentials":{"telegramApi":{"id":"c9eLhTj5KHfRBavw","name":"Telegram account"}}},{"parameters":{"operation":"sendAudio","chatId":"={{ $node[\"Telegram Trigger\"].json[\"message\"][\"chat\"][\"id\"] }}","additionalFields":{}},"id":"45d74d59-e59b-4843-97ae-6ef8e267d978","name":"Send Telegram Message (Audio)","type":"n8n-nodes-base.telegram","typeVersion":1,"position":[1360,400],"webhookId":"4d724c99-873c-49c3-8225-77a45be84c13","credentials":{"telegramApi":{"id":"c9eLhTj5KHfRBavw","name":"Telegram account"}}},{"parameters":{"jsCode":"// Loop over input items and add a new field called 'myNewField' to the JSON of each one\nfor (const item of $input.all()) {\n  item.json.myNewField = 1;\n}\n\nreturn $input.all();"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[400,1200],"id":"30065da2-8d51-4b0e-a8ff-9efe2b9d2a69","name":"Code","disabled":true},{"parameters":{"options":{}},"id":"f9b0e6ea-1a3f-4bdc-a13c-58e3260c9fb5","name":"Anthropic Chat Model","type":"@n8n/n8n-nodes-langchain.lmChatAnthropic","typeVersion":1,"position":[720,940],"credentials":{"anthropicApi":{"id":"W1JQI46DxY1zWg5g","name":"Anthropic account"}}}],"connections":{"Telegram Trigger":{"main":[[{"node":"Message Type Switch","type":"main","index":0}]]},"Message Type Switch":{"main":[[{"node":"Get Voice File","type":"main","index":0}],[{"node":"Prepare Text Input","type":"main","index":0}],[{"node":"Send Telegram Message (Text)","type":"main","index":0}]]},"Prepare Text Input":{"main":[[{"node":"AI Agent (JARVIS)","type":"main","index":0}]]},"Prepare Audio Input":{"main":[[{"node":"AI Agent (JARVIS)","type":"main","index":0}]]},"Gmail (Get Emails)":{"main":[[{"node":"AI Agent (JARVIS)","type":"main","index":0}]]},"Google Calendar (Get Events)":{"main":[[{"node":"AI Agent (JARVIS)","type":"main","index":1}]]},"Google Contacts (Search)":{"main":[[{"node":"AI Agent (JARVIS)","type":"main","index":2}]]},"Google Tasks (Get Tasks)":{"main":[[{"node":"AI Agent (JARVIS)","type":"main","index":3}]]},"Google Contacts (Create Contact)":{"main":[[{"node":"AI Agent (JARVIS)","type":"main","index":4}]]},"AI Agent (JARVIS)":{"main":[[{"node":"If Audio Output","type":"main","index":0}]]},"If Audio Output":{"main":[[{"node":"Generate Speech (ElevenLabs)","type":"main","index":0}],[{"node":"Send Telegram Message (Text)","type":"main","index":0}]]},"Generate Speech (ElevenLabs)":{"main":[[{"node":"Send Telegram Message (Audio)","type":"main","index":0}]]},"Anthropic Chat Model":{"ai_languageModel":[[]]},"Chat History Memory":{"ai_memory":[[{"node":"AI Agent (JARVIS)","type":"ai_memory","index":0}]]},"OpenAI Chat Model":{"ai_languageModel":[[{"node":"AI Agent (JARVIS)","type":"ai_languageModel","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":null,"meta":{"templateCredsSetupCompleted":true},"pinData":{},"versionId":"2855d8a3-9ccc-4462-8671-89b22f4a833d","triggerCount":0,"tags":[{"createdAt":"2025-02-12T00:06:31.183Z","updatedAt":"2025-02-16T12:09:52.918Z","id":"RAEtntqG5GvQKAMI","name":"AD USO INTERNO"},{"createdAt":"2025-02-11T23:59:41.483Z","updatedAt":"2025-02-14T16:18:26.979Z","id":"dzhL8PxGOvRSKz2J","name":"ANCORA IN TEST"}]}